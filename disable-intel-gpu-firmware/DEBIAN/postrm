#!/bin/sh
set -e
package_name=disable-intel-gpu-firmware
case "$1" in
  remove)
    dpkg-divert --package "$package_name" --rename --remove "/lib/firmware/i915/bxt_dmc_ver1_07.bin"
    dpkg-divert --package "$package_name" --rename --remove "/lib/firmware/i915/bxt_guc_32.0.3.bin"
    dpkg-divert --package "$package_name" --rename --remove "/lib/firmware/i915/bxt_guc_33.0.0.bin"
    dpkg-divert --package "$package_name" --rename --remove "/lib/firmware/i915/bxt_guc_ver8_7.bin"
    dpkg-divert --package "$package_name" --rename --remove "/lib/firmware/i915/bxt_guc_ver9_29.bin"
    dpkg-divert --package "$package_name" --rename --remove "/lib/firmware/i915/bxt_huc_2.0.0.bin"
    dpkg-divert --package "$package_name" --rename --remove "/lib/firmware/i915/bxt_huc_ver01_07_1398.bin"
    dpkg-divert --package "$package_name" --rename --remove "/lib/firmware/i915/bxt_huc_ver01_8_2893.bin"
    dpkg-divert --package "$package_name" --rename --remove "/lib/firmware/i915/cml_guc_33.0.0.bin"
    dpkg-divert --package "$package_name" --rename --remove "/lib/firmware/i915/cml_huc_4.0.0.bin"
    dpkg-divert --package "$package_name" --rename --remove "/lib/firmware/i915/cnl_dmc_ver1_06.bin"
    dpkg-divert --package "$package_name" --rename --remove "/lib/firmware/i915/cnl_dmc_ver1_07.bin"
    dpkg-divert --package "$package_name" --rename --remove "/lib/firmware/i915/ehl_guc_33.0.4.bin"
    dpkg-divert --package "$package_name" --rename --remove "/lib/firmware/i915/ehl_huc_9.0.0.bin"
    dpkg-divert --package "$package_name" --rename --remove "/lib/firmware/i915/glk_dmc_ver1_04.bin"
    dpkg-divert --package "$package_name" --rename --remove "/lib/firmware/i915/glk_guc_32.0.3.bin"
    dpkg-divert --package "$package_name" --rename --remove "/lib/firmware/i915/glk_guc_33.0.0.bin"
    dpkg-divert --package "$package_name" --rename --remove "/lib/firmware/i915/glk_huc_4.0.0.bin"
    dpkg-divert --package "$package_name" --rename --remove "/lib/firmware/i915/glk_huc_ver03_01_2893.bin"
    dpkg-divert --package "$package_name" --rename --remove "/lib/firmware/i915/icl_dmc_ver1_07.bin"
    dpkg-divert --package "$package_name" --rename --remove "/lib/firmware/i915/icl_dmc_ver1_09.bin"
    dpkg-divert --package "$package_name" --rename --remove "/lib/firmware/i915/icl_guc_32.0.3.bin"
    dpkg-divert --package "$package_name" --rename --remove "/lib/firmware/i915/icl_guc_33.0.0.bin"
    dpkg-divert --package "$package_name" --rename --remove "/lib/firmware/i915/icl_huc_9.0.0.bin"
    dpkg-divert --package "$package_name" --rename --remove "/lib/firmware/i915/icl_huc_ver8_4_3238.bin"
    dpkg-divert --package "$package_name" --rename --remove "/lib/firmware/i915/kbl_dmc_ver1_01.bin"
    dpkg-divert --package "$package_name" --rename --remove "/lib/firmware/i915/kbl_dmc_ver1_04.bin"
    dpkg-divert --package "$package_name" --rename --remove "/lib/firmware/i915/kbl_guc_32.0.3.bin"
    dpkg-divert --package "$package_name" --rename --remove "/lib/firmware/i915/kbl_guc_33.0.0.bin"
    dpkg-divert --package "$package_name" --rename --remove "/lib/firmware/i915/kbl_guc_ver9_14.bin"
    dpkg-divert --package "$package_name" --rename --remove "/lib/firmware/i915/kbl_guc_ver9_39.bin"
    dpkg-divert --package "$package_name" --rename --remove "/lib/firmware/i915/kbl_huc_4.0.0.bin"
    dpkg-divert --package "$package_name" --rename --remove "/lib/firmware/i915/kbl_huc_ver02_00_1810.bin"
    dpkg-divert --package "$package_name" --rename --remove "/lib/firmware/i915/skl_dmc_ver1_23.bin"
    dpkg-divert --package "$package_name" --rename --remove "/lib/firmware/i915/skl_dmc_ver1_26.bin"
    dpkg-divert --package "$package_name" --rename --remove "/lib/firmware/i915/skl_dmc_ver1_27.bin"
    dpkg-divert --package "$package_name" --rename --remove "/lib/firmware/i915/skl_guc_32.0.3.bin"
    dpkg-divert --package "$package_name" --rename --remove "/lib/firmware/i915/skl_guc_33.0.0.bin"
    dpkg-divert --package "$package_name" --rename --remove "/lib/firmware/i915/skl_guc_ver1.bin"
    dpkg-divert --package "$package_name" --rename --remove "/lib/firmware/i915/skl_guc_ver4.bin"
    dpkg-divert --package "$package_name" --rename --remove "/lib/firmware/i915/skl_guc_ver6_1.bin"
    dpkg-divert --package "$package_name" --rename --remove "/lib/firmware/i915/skl_guc_ver9_33.bin"
    dpkg-divert --package "$package_name" --rename --remove "/lib/firmware/i915/skl_huc_2.0.0.bin"
    dpkg-divert --package "$package_name" --rename --remove "/lib/firmware/i915/skl_huc_ver01_07_1398.bin"
    dpkg-divert --package "$package_name" --rename --remove "/lib/firmware/i915/tgl_dmc_ver2_04.bin"
    dpkg-divert --package "$package_name" --rename --remove "/lib/firmware/i915/tgl_dmc_ver2_06.bin"
    dpkg-divert --package "$package_name" --rename --remove "/lib/firmware/i915/tgl_guc_35.2.0.bin"
    dpkg-divert --package "$package_name" --rename --remove "/lib/firmware/i915/tgl_huc_7.0.12.bin"
    dpkg-divert --package "$package_name" --rename --remove "/lib/firmware/i915/tgl_huc_7.0.3.bin"
    dpkg-divert --package "$package_name" --rename --remove "/lib/firmware/i915/bxt_dmc_ver1.bin"
    dpkg-divert --package "$package_name" --rename --remove "/lib/firmware/i915/kbl_dmc_ver1.bin"
    dpkg-divert --package "$package_name" --rename --remove "/lib/firmware/i915/skl_dmc_ver1.bin"
    dpkg-divert --package "$package_name" --rename --remove "/lib/firmware/i915/skl_guc_ver6.bin"
    ;;
  purge)
    dpkg-divert --package "$package_name" --rename --remove "/lib/firmware/i915/bxt_dmc_ver1_07.bin"
    dpkg-divert --package "$package_name" --rename --remove "/lib/firmware/i915/bxt_guc_32.0.3.bin"
    dpkg-divert --package "$package_name" --rename --remove "/lib/firmware/i915/bxt_guc_33.0.0.bin"
    dpkg-divert --package "$package_name" --rename --remove "/lib/firmware/i915/bxt_guc_ver8_7.bin"
    dpkg-divert --package "$package_name" --rename --remove "/lib/firmware/i915/bxt_guc_ver9_29.bin"
    dpkg-divert --package "$package_name" --rename --remove "/lib/firmware/i915/bxt_huc_2.0.0.bin"
    dpkg-divert --package "$package_name" --rename --remove "/lib/firmware/i915/bxt_huc_ver01_07_1398.bin"
    dpkg-divert --package "$package_name" --rename --remove "/lib/firmware/i915/bxt_huc_ver01_8_2893.bin"
    dpkg-divert --package "$package_name" --rename --remove "/lib/firmware/i915/cml_guc_33.0.0.bin"
    dpkg-divert --package "$package_name" --rename --remove "/lib/firmware/i915/cml_huc_4.0.0.bin"
    dpkg-divert --package "$package_name" --rename --remove "/lib/firmware/i915/cnl_dmc_ver1_06.bin"
    dpkg-divert --package "$package_name" --rename --remove "/lib/firmware/i915/cnl_dmc_ver1_07.bin"
    dpkg-divert --package "$package_name" --rename --remove "/lib/firmware/i915/ehl_guc_33.0.4.bin"
    dpkg-divert --package "$package_name" --rename --remove "/lib/firmware/i915/ehl_huc_9.0.0.bin"
    dpkg-divert --package "$package_name" --rename --remove "/lib/firmware/i915/glk_dmc_ver1_04.bin"
    dpkg-divert --package "$package_name" --rename --remove "/lib/firmware/i915/glk_guc_32.0.3.bin"
    dpkg-divert --package "$package_name" --rename --remove "/lib/firmware/i915/glk_guc_33.0.0.bin"
    dpkg-divert --package "$package_name" --rename --remove "/lib/firmware/i915/glk_huc_4.0.0.bin"
    dpkg-divert --package "$package_name" --rename --remove "/lib/firmware/i915/glk_huc_ver03_01_2893.bin"
    dpkg-divert --package "$package_name" --rename --remove "/lib/firmware/i915/icl_dmc_ver1_07.bin"
    dpkg-divert --package "$package_name" --rename --remove "/lib/firmware/i915/icl_dmc_ver1_09.bin"
    dpkg-divert --package "$package_name" --rename --remove "/lib/firmware/i915/icl_guc_32.0.3.bin"
    dpkg-divert --package "$package_name" --rename --remove "/lib/firmware/i915/icl_guc_33.0.0.bin"
    dpkg-divert --package "$package_name" --rename --remove "/lib/firmware/i915/icl_huc_9.0.0.bin"
    dpkg-divert --package "$package_name" --rename --remove "/lib/firmware/i915/icl_huc_ver8_4_3238.bin"
    dpkg-divert --package "$package_name" --rename --remove "/lib/firmware/i915/kbl_dmc_ver1_01.bin"
    dpkg-divert --package "$package_name" --rename --remove "/lib/firmware/i915/kbl_dmc_ver1_04.bin"
    dpkg-divert --package "$package_name" --rename --remove "/lib/firmware/i915/kbl_guc_32.0.3.bin"
    dpkg-divert --package "$package_name" --rename --remove "/lib/firmware/i915/kbl_guc_33.0.0.bin"
    dpkg-divert --package "$package_name" --rename --remove "/lib/firmware/i915/kbl_guc_ver9_14.bin"
    dpkg-divert --package "$package_name" --rename --remove "/lib/firmware/i915/kbl_guc_ver9_39.bin"
    dpkg-divert --package "$package_name" --rename --remove "/lib/firmware/i915/kbl_huc_4.0.0.bin"
    dpkg-divert --package "$package_name" --rename --remove "/lib/firmware/i915/kbl_huc_ver02_00_1810.bin"
    dpkg-divert --package "$package_name" --rename --remove "/lib/firmware/i915/skl_dmc_ver1_23.bin"
    dpkg-divert --package "$package_name" --rename --remove "/lib/firmware/i915/skl_dmc_ver1_26.bin"
    dpkg-divert --package "$package_name" --rename --remove "/lib/firmware/i915/skl_dmc_ver1_27.bin"
    dpkg-divert --package "$package_name" --rename --remove "/lib/firmware/i915/skl_guc_32.0.3.bin"
    dpkg-divert --package "$package_name" --rename --remove "/lib/firmware/i915/skl_guc_33.0.0.bin"
    dpkg-divert --package "$package_name" --rename --remove "/lib/firmware/i915/skl_guc_ver1.bin"
    dpkg-divert --package "$package_name" --rename --remove "/lib/firmware/i915/skl_guc_ver4.bin"
    dpkg-divert --package "$package_name" --rename --remove "/lib/firmware/i915/skl_guc_ver6_1.bin"
    dpkg-divert --package "$package_name" --rename --remove "/lib/firmware/i915/skl_guc_ver9_33.bin"
    dpkg-divert --package "$package_name" --rename --remove "/lib/firmware/i915/skl_huc_2.0.0.bin"
    dpkg-divert --package "$package_name" --rename --remove "/lib/firmware/i915/skl_huc_ver01_07_1398.bin"
    dpkg-divert --package "$package_name" --rename --remove "/lib/firmware/i915/tgl_dmc_ver2_04.bin"
    dpkg-divert --package "$package_name" --rename --remove "/lib/firmware/i915/tgl_dmc_ver2_06.bin"
    dpkg-divert --package "$package_name" --rename --remove "/lib/firmware/i915/tgl_guc_35.2.0.bin"
    dpkg-divert --package "$package_name" --rename --remove "/lib/firmware/i915/tgl_huc_7.0.12.bin"
    dpkg-divert --package "$package_name" --rename --remove "/lib/firmware/i915/tgl_huc_7.0.3.bin"
    dpkg-divert --package "$package_name" --rename --remove "/lib/firmware/i915/bxt_dmc_ver1.bin"
    dpkg-divert --package "$package_name" --rename --remove "/lib/firmware/i915/kbl_dmc_ver1.bin"
    dpkg-divert --package "$package_name" --rename --remove "/lib/firmware/i915/skl_dmc_ver1.bin"
    dpkg-divert --package "$package_name" --rename --remove "/lib/firmware/i915/skl_guc_ver6.bin"
;;
esac
exit 0
